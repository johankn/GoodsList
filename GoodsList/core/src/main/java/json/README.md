# Json-mappen

Inne i denne mappen har vi java-klasser som er tett knyttet opp mot persistens. Dette er DataObjects.java, FileOperator.java, JsonFileAsObject.java og UserInfoCollector.java. 
JsonFileAsObject.java-klassen er ikke direkte knyttet opp mot persistens, men siden klassen representerer en json-fil som et java Objekt har vi valgt å ha den i denne mappen. Vi har brukt Jackson-biblioteket til å lese fra og skrive til fil. Jackson utfører filoperasjoner ved hjelp av Jackson-annotations. Vi har brukt Jackson-annotations fordi vi har litt erfaring med det fra før og i tillegg synes vi dette er en ryddig måte å skrive til og lese fra fil på.

FileOperator.java er klassen som igangsetter skriving og lesning til fil. Den har et felt av typen DataObject.java som utfører ulike operasjoner basert på hvilken filoperasjon FileOperator.java ønsker å gjøre. Først blir json-filen som skal modifiseres kopiert og transformert til et objekt av typen JsonFileAsObject.java ved bruk av et ObjectMapper-objekt. JsonFileAsObject-klassen representerer json-filen som et java Objekt. ObjectMapper.java forstår hvordan den skal opprette objektet fra json-fil og hvordan den skal skrive til json-fil ved bruk av Jackson-annotations. Etter ObjectMapper.java oppretter et JsonFileAsObject fra en json-fil i DataObject-klassen blir det modifisert ut i fra hvilken metode som er kalt fra FileOperator.java. Deretter skriver FileOperator det oppdaterte JsonFileAsObject.java objektet til fil og prosedyren er ferdig. For å hente ut alle brukere fra fil opprettes et JsonFileAsObject, som i bunn og grunn er en liste med brukere, og denne listen returneres. 

Alle brukere som blir opprettet eller endret i applikasjonen skrives til dataObjects.json inne i main/resources-mappen i ui-modulen. Dette er implisitt lagring fordi det som skrives til fil ikke lagres på desktopen til en bruker av appen. Begrunnelsen bak dette valget er at det er essensielt at en appen har oversikt over registrerte brukere. Dette fordi en bruker som prøver å registrere seg er nødt til å kunne få feedback på om brukernavnet allerede finnes i systemet. 
